# =============================================================================
# Bearer Token MCP Server - Environment Configuration
# =============================================================================
#
# RECOMMENDED: Use the setup script to configure this file automatically:
#
#   1. Copy deployment file from azure-ee-template:
#      cp /path/to/azure-ee-template/.deployments/standalone-v2025.json ./neo4j-deployment.json
#
#   2. Run the setup script:
#      ./scripts/setup-env.sh
#
# The script reads neo4j-deployment.json and populates most values below.
# You only need to provide AZURE_CLIENT_SECRET (from M2M setup).
#
# =============================================================================

# -----------------------------------------------------------------------------
# Azure Configuration (Required)
# -----------------------------------------------------------------------------

# Azure subscription ID (auto-populated by setup-env.sh)
AZURE_SUBSCRIPTION_ID=

# Resource group name (will be created if it doesn't exist)
AZURE_RESOURCE_GROUP=neo4j-mcp-bearer-rg

# Azure region for deployment (auto-detected from Neo4j URI by setup-env.sh)
AZURE_LOCATION=eastus

# -----------------------------------------------------------------------------
# Neo4j Configuration (Required)
# -----------------------------------------------------------------------------

# Neo4j connection URI (auto-populated from neo4j-deployment.json)
# Example: bolt://vm0.neo4j-xxx.eastus2.cloudapp.azure.com:7687
NEO4J_URI=

# Neo4j database name (default: neo4j)
NEO4J_DATABASE=neo4j

# -----------------------------------------------------------------------------
# Optional Deployment Configuration
# -----------------------------------------------------------------------------

# Base name for Azure resources (default: neo4jmcp)
BASE_NAME=neo4jmcp

# Environment name: dev, staging, or prod (default: dev)
ENVIRONMENT=dev

# Read-only mode: true or false (default: true)
# When true, disables the write-cypher tool for safety
NEO4J_READ_ONLY=true

# CORS allowed origins (default: empty = disabled)
# Set to * to allow all origins, or comma-separated list
CORS_ALLOWED_ORIGINS=

# Container image override (default: docker.io/mcp/neo4j:latest)
# MCP_SERVER_IMAGE=docker.io/mcp/neo4j:latest

# -----------------------------------------------------------------------------
# M2M Client Configuration (Required for bearer auth)
# -----------------------------------------------------------------------------
# Auto-populated from neo4j-deployment.json by setup-env.sh
# EXCEPT AZURE_CLIENT_SECRET which you must provide manually

# Azure Entra ID tenant ID
AZURE_TENANT_ID=

# Client application ID (the client app, not the API app)
AZURE_CLIENT_ID=

# Client secret - YOU MUST SET THIS MANUALLY
# This was shown during azure-ee-template M2M setup (save it!)
# If lost, regenerate in Azure Portal > App Registrations > Certificates & secrets
AZURE_CLIENT_SECRET=

# Token audience (auto-populated from deployment)
AZURE_AUDIENCE=

# -----------------------------------------------------------------------------
# Alternative: Direct Token (for testing)
# -----------------------------------------------------------------------------
# If you have a pre-acquired JWT token, you can bypass IdP token acquisition
# MCP_BEARER_TOKEN=eyJ...
